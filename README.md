# [Linux] top, ps, jobs, kill 명령어
|  |top|ps|jobs|kill|
|----|----|----|----|----|
|OS|Linux에서만 지원|Unix, Linux 모두 지원|Unix, Linux 모두 지원|Unix, Linux 모두 지원|
|경로|/usr/bin/top|/bin/ps|내부 명령어|/bin/kill
|키워드|프로세스 상황|프로세스 상황|현재 세션 작업 상태|프로세스 종료|  

## top
### 설명 및 예제
- Linux에서 현재 실행되고 있는 프로세스에 관한 시스템 프로세스/메모리 사용 현황을 5초 간격으로 **실시간** 출력하는 명령어  
- 출력 기본값은 현재시간, 시스템 업데이트 시간, 시스템에 로그인한 사용자 수, 지난 1분, 지난 5분, 지난 15분 시스템 평균 부하  
- Microsoft Windows의 작업 관리자와 같은 개념  

### `top [옵션]`
   
|옵션|설명|
|-----|-----|
|-b|배치모드로 정보 출력|
|-d delay|지정한 시간의 간격으로 정보 출력|
|-n num|지정한 시간만큼 정보 출력|
|-p pid|지정한 프로세스 ID(pid)의 정보만 출력|
|-q|시간의 간격 없이 정보 출력|
|-s|시큐어 모드|
|-S|누적된 정보 출력|  

  
### top 단축키 명령어
|명령어|설명|
|-----|-----|
|space|정보 업데이트|
|^L|스크린 초기화|
|F(f)|필드 추가 및 제거|
|O(o)|출력하는 필드의 정렬 순서 변경|
|h(?)|사용 가능한 명령어 출력
|k|프로세스 종료|
|n(#)|출력할 프로세스의 개수 지정|
|s|출력할 정보의 업데이트 시간 지정|
|q|top 종료|


### `top` 실행 예제
![top 실행 예제 이미지](./top.png)
###### [출처: 네이버 지식백과](https://terms.naver.com/entry.naver?docId=4125861&cid=59321&categoryId=59321)
-----------------------

## ps
### 설명 및 예제
- 현재 실행 중인 프로세스의 상황 출력
- 출력 기본값은 CPU 사용도가 **낮은 순서**대로 출력
  
### `ps [옵션]`

   
|옵션|설명|
|-----|-----|
|-A|모든 프로세스 출력|
|-a|세션 리더 및 터미널에 속하지 않는 프로세스 제외 출력|
|-N|ps 프로세스를 제외한 모든 프로세스 출력|
|-U|사용자 ID에 관련된 정보를 출력|
|-u|사용자 ID 지정|
|-C|지정한 명령어의 이름에 관련된 정보 출력|
|c|시스템 내부에 보관 중인 명령어 이름 출력|
|--help|사용법 출력|  
###### 옵션에 대쉬(-)가 없는 경우는 BSD 계열의 옵션이고 Unix98의 옵션은 하나의 대쉬로 출력하며 GNU는 대쉬가 두 개인 경우도 있지만 호환이 가능하다.

  
### ps 필드명
|필드명|설명|옵션|
|-----|-----|-----|
|CMD|사용자가 실행한 명령 이름|-f, -l, l|
|COMMAND|사용자가 실행한 명령 이름|s, u, v|
|F|프로세스 및 스레드에 관련된 항목|-l, l|
|TTY|연결되어 있는 터미널(기본 필드)|
|PID|프로세스 ID(기본 필드)|
|UID|사용자 ID|-f, -l, l|
|USER|사용자 이름|u|
|STIME|프로세스의 시작 시간|-f, u|
|VSZ|가상 메모리에 적재된 프로세스의 KB 단위 크기|
|%CPU|마지막 1분 동안 프로세스가 사용한 CPU 점유율|u|
|%MEM|마지막 1분 동안 프로세스가 사용한 메모리 점유율|u, v|
|SAT|실행되고 있는 프로세스의 상태|s, u, v|

### `ps aux`(시스템의 모든 프로세스 확인) 실행 예제
![ps aux 실행 예제 이미지](./ps_aux.png)
###### [출처: 네이버 지식백과](https://terms.naver.com/entry.naver?docId=4125773&cid=59321&categoryId=59321#TABLE_OF_CONTENT3)
-----------------------

## jobs
### 설명 및 예제
- **작업이 중지된 상태**, 백그라운드로 진행 중인 작업 상태, 변경되었지만 보고되지 않은 상태 등을 표시
  
### `jobs [옵션]`

   
|옵션|설명|
|-----|-----|
|-l|프로세스 그룹 ID를 state 필드 앞에 출력|
|-n|프로세스 그룹 중에 대표 프로세스 ID 출력|
|-p|각 프로세스 ID에 대해 한 행씩 출력|
|command|지정한 명령어 실행|

  
### jobs 명령어로 확인 할 수 있는 세션의 상태값
|상태|설명|
|-----|-----|
|Running|작업이 일시 중단되지 않았고 종료하지 않고 계속 진행 중임|
|Done|작업이 완료되어 0을 반환하고 종료했음|
|Done (code)|작업이 정상적으로 완료됐고 0이 아닌 코드를 반환했음|
|stopped|작업이 일시 중단됨|
|sopped (SIGTSTP)|SIGTSTP 신호가 작업을 일시 중단했음|
|sopped (SIGSTOP)|SIGSTOP 신호가 일시 중단했음|
|sopped (SIGTTIN)|SIGTTIN 신호가 작업을 일시 중단했음|
|sopped (SIGTTOU)|SIGTTOU 신호가 작업을 일시 중단했음|


### `jobs -p %v`(v로 시작하는 모든 프로세스 ID 확인) 실행 예제
```
$ jobs -p %v
4908
```
###### [출처: 네이버 지식백과](https://terms.naver.com/entry.naver?docId=4125682&cid=59321&categoryId=59321#TABLE_OF_CONTENT2)
-----------------------

## kill
### 설명 및 예제
- 프로세스에 **종료 시그널**을 보냄
- 시스템에 예기치 않은 문제가 생긴 프로세스를 종료
- kill 명령으로 종료되지 않는 프로세스는 -9 옵션을 사용해서 강제로 종료
  
### `kill [PID]`

   
|옵션|설명|
|-----|-----|
|pid|종료시킬 프로세스 ID나 프로세스 이름 지정|
|-s|전달할 시그널의 종류(시그널 이름, 번호) 지정|
|-l|시그널로 사용할 수 있는 시그널 이름을 보여줌|
|-1,|-HUP 프로세스를 재활성화|
|-9|프로세스 강제 종료|
###### ps 명령어로 sshd 프로세스 확인 후 kill 명령어로 종료
  

### `kill` 실행 예제
```
$ kill 2518      // 2518은 ps 명령으로 확인한 PID
$ kill -9 2518   // 위의 명령으로 종료되지 않으면 -9 옵션으로 강제 종료
```
###### [출처: 네이버 지식백과](https://terms.naver.com/entry.naver?docId=4125687&cid=59321&categoryId=59321#TABLE_OF_CONTENT2)
